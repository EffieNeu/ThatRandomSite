<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Reaction Time Game</title>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9967648505755481"
     crossorigin="anonymous"></script>
    
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #000000 0%, #0a0a1a 30%, #1a1a2e 70%, #000000 100%);
      color: white;
      text-align: center;
      min-height: 100vh;
      overflow-x: hidden;
    }

    header {
      background: rgba(0, 0, 0, 0.9);
      padding: 1rem 2rem;
      position: fixed;
      width: 100%;
      top: 0;
      left: 0;
      z-index: 1000;
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    }

    nav ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      gap: 2rem;
      justify-content: flex-start;
      align-items: center;
    }

    nav a {
      color: #e0e6ed;
      text-decoration: none;
      font-weight: 500;
      font-size: 1rem;
      transition: all 0.3s ease;
      position: relative;
    }

    nav a:hover {
      color: #64b5f6;
      transform: translateY(-1px);
    }

    nav a::after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      bottom: -5px;
      left: 0;
      background: linear-gradient(90deg, #64b5f6, #42a5f5);
      transition: width 0.3s ease;
    }

    nav a:hover::after {
      width: 100%;
    }

    #start-screen {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 2rem;
      background: linear-gradient(135deg, rgba(0, 0, 0, 0.8) 0%, rgba(10, 10, 26, 0.8) 100%);
    }

    #start-screen h1 {
      font-size: 4rem;
      font-weight: 700;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, #e0e6ed 0%, #64b5f6 50%, #42a5f5 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 0 15px rgba(100, 181, 246, 0.2);
      animation: glow 3s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from { filter: drop-shadow(0 0 10px rgba(100, 181, 246, 0.2)); }
      to { filter: drop-shadow(0 0 20px rgba(100, 181, 246, 0.4)); }
    }

    #start-screen p {
      font-size: 1.5rem;
      color: #b0bec5;
      margin-bottom: 2rem;
      font-weight: 300;
    }

    #start-screen ul {
      text-align: left;
      max-width: 800px;
      margin: 0 auto 3rem;
      font-size: 1.4rem;
      line-height: 1.8;
      background: rgba(100, 181, 246, 0.1);
      padding: 2.5rem;
      border-radius: 20px;
      border: 1px solid rgba(100, 181, 246, 0.2);
      backdrop-filter: blur(10px);
    }

    #start-screen li {
      margin-bottom: 1rem;
      color: #e0e6ed;
    }

    #start-screen strong {
      color: #64b5f6;
      font-weight: 600;
    }

    .btn {
      display: inline-block;
      padding: 1.2rem 3rem;
      font-size: 1.5rem;
      font-weight: 600;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      position: relative;
      overflow: hidden;
      background: linear-gradient(135deg, #64b5f6 0%, #42a5f5 100%);
      color: #ffffff;
      box-shadow: 0 8px 25px rgba(100, 181, 246, 0.3);
    }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 35px rgba(100, 181, 246, 0.4);
    }

    .btn:active {
      transform: translateY(-1px);
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }

    .btn:hover::before {
      left: 100%;
    }

    #game {
      display: flex;
      height: 60vh;
      width: 90vw;
      max-width: 1200px;
      justify-content: center;
      align-items: center;
      font-size: 3.5rem;
      font-weight: 600;
      cursor: pointer;
      user-select: none;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      margin: 1rem auto;
      border-radius: 20px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
    }

    #game::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);
      transform: translateX(-100%);
      transition: transform 0.6s;
    }

    #game:hover::before {
      transform: translateX(100%);
    }

    #game.waiting {
      background: linear-gradient(135deg, #333333 0%, #000000 100%);
      color: white;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
    }

    #game.ready {
      background: linear-gradient(135deg, #ffffff 0%, #cccccc 100%);
      color: #000000;
      text-shadow: 0 2px 10px rgba(255, 255, 255, 0.3);
      animation: pulse 0.5s ease-in-out;
    }

    #game.too-soon {
      background: linear-gradient(135deg, #666666 0%, #333333 100%);
      color: white;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
    }

    #game.done {
      background: linear-gradient(135deg, #000000 0%, #333333 100%);
      color: white;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    #play-again {
      display: none;
      margin-top: 0.5rem;
      background: linear-gradient(135deg, #666666 0%, #333333 100%);
      color: white;
      box-shadow: 0 8px 25px rgba(102, 102, 102, 0.3);
    }

    #play-again:hover {
      box-shadow: 0 15px 35px rgba(102, 102, 102, 0.4);
    }

    .game-container {
      display: none;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 1rem;
      padding-top: 5rem;
      background: linear-gradient(135deg, rgba(0, 0, 0, 0.8) 0%, rgba(10, 10, 26, 0.8) 100%);
    }
    
    .game-container.show {
      display: flex;
    }

    .score-display {
      font-size: 1.5rem;
      color: #e0e6ed;
      margin-bottom: 0.5rem;
      margin-top: 0.5rem;
      font-weight: 500;
      text-shadow: 0 0 15px rgba(100, 181, 246, 0.3);
      padding: 0.5rem 1.5rem;
      background: rgba(100, 181, 246, 0.1);
      border-radius: 15px;
      border: 1px solid rgba(100, 181, 246, 0.2);
    }

    /* Remove unused modal styles */
    #name-modal {
      display: none;
    }

    /* Responsive design */
    @media (max-width: 768px) {
      #start-screen h1 {
        font-size: 2.5rem;
      }
      
      #start-screen ul {
        font-size: 1rem;
        padding: 1.5rem;
        max-width: 90%;
      }
      
      #game {
        font-size: 2.5rem;
        width: 95vw;
        height: 80vh;
      }
      
      .btn {
        padding: 1rem 2rem;
        font-size: 1.2rem;
      }
    }
    
    @media (min-width: 1200px) {
      #game {
        font-size: 4rem;
        height: 65vh;
      }
      
      #start-screen h1 {
        font-size: 5rem;
      }
      
      #start-screen ul {
        font-size: 1.6rem;
        max-width: 1000px;
      }
    }
  </style>
</head>
<body>

<header>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="reaction.html">Reaction Game</a></li>
        <li><a href="clasherdle.html">Clasherdle</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
  </header>

  <div id="start-screen">
    <h1>‚ö° Reaction Time Game</h1>
    <p>Test your reflexes and see how fast you can react!</p>
    <ul>
      <li>Click the <strong>Start Game</strong> button to begin</li>
      <li>Wait for the screen to turn <strong>green</strong></li>
      <li>Click as fast as you can when it changes!</li>
      <li>If you click too early, you'll have to restart</li>
    </ul>
    <button id="start-btn" class="btn">üöÄ Start Game</button>
  </div>

  <div class="game-container">
    <div class="score-display" id="score-display"></div>
    <div id="game" class="waiting">Wait for green...</div>
    <button id="play-again" class="btn">üîÑ Play Again</button>
  </div>


  <script>
    const game = document.getElementById("game");
    const playAgainBtn = document.getElementById("play-again");
    const startScreen = document.getElementById("start-screen");
    const startBtn = document.getElementById("start-btn");
    const scoreDisplay = document.getElementById("score-display");
    const gameContainer = document.querySelector(".game-container");

    let startTime, timeoutID, gameState = "waiting";
    let currentReactionTime = 0;
    let bestTime = null;
    
    // Safely get best time from localStorage
    try {
      bestTime = localStorage.getItem('bestReactionTime') || null;
    } catch (e) {
      console.warn('localStorage not available:', e);
      bestTime = null;
    }

    function getRandomDelay() {
      return Math.floor(Math.random() * 3500) + 1500;
    }

    function updateScoreDisplay() {
      if (bestTime) {
        scoreDisplay.textContent = `üèÜ Best Time: ${bestTime}ms`;
        scoreDisplay.style.display = "block";
      } else {
        scoreDisplay.style.display = "none";
      }
    }

    function startGame() {
      playAgainBtn.style.display = "none";
      gameState = "waiting";
      game.className = "waiting";
      game.textContent = "‚è≥ Wait for green...";
      updateScoreDisplay();

      timeoutID = setTimeout(() => {
        gameState = "ready";
        game.className = "ready";
        game.textContent = "üöÄ CLICK NOW!";
        startTime = new Date();
      }, getRandomDelay());
    }

    function getReactionRating(time) {
      if (time < 200) return { text: "üèÜ Lightning Fast!", color: "#ffffff" };
      if (time < 250) return { text: "‚ö° Excellent!", color: "#cccccc" };
      if (time < 300) return { text: "üî• Great!", color: "#999999" };
      if (time < 400) return { text: "üëç Good!", color: "#666666" };
      if (time < 500) return { text: "üëå Average", color: "#333333" };
      return { text: "üêå Keep practicing!", color: "#000000" };
    }

    game.addEventListener("click", async () => {
      if (gameState === "waiting") {
        clearTimeout(timeoutID);
        game.className = "too-soon";
        game.textContent = "‚ùå Too soon! Click Play Again to try again.";
        gameState = "tooSoon";
        playAgainBtn.style.display = "inline-block";
      } else if (gameState === "ready") {
        const reactionTime = new Date() - startTime;
        currentReactionTime = reactionTime;
        
        const rating = getReactionRating(reactionTime);
        game.className = "done";
        game.innerHTML = `
          <div style="text-align: center;">
            <div style="font-size: 1.5rem; margin-bottom: 1rem; color: ${rating.color};">${rating.text}</div>
            <div style="font-size: 2rem; font-weight: 700; margin-bottom: 0.5rem;">${reactionTime}ms</div>
            <div style="font-size: 1rem; opacity: 0.8;">Click Play Again to try again</div>
          </div>
        `;
        gameState = "done";
        playAgainBtn.style.display = "inline-block";

        // Update best time
        if (!bestTime || reactionTime < bestTime) {
          bestTime = reactionTime;
          try {
            localStorage.setItem('bestReactionTime', bestTime);
          } catch (e) {
            console.warn('Could not save to localStorage:', e);
          }
          updateScoreDisplay();
        }
      }
    });

    playAgainBtn.addEventListener("click", startGame);
    startBtn.addEventListener("click", () => {
      startScreen.style.display = "none";
      gameContainer.classList.add('show');
      startGame();
    });

    // Initialize
    updateScoreDisplay();
  </script>
</body>
</html>
